<!DOCTYPE html>
<html >
<head>
    <script type="text/javascript"
src="https://maps.googleapis.com/maps/api/js">
</script>


<title>
Maps try2
</title>
    <style>
        
#map {
    height : 490px; width: 1350px;
}
.infoWindowContent {
    font-size:  14px !important;
    border-top: 1px solid #ccc;
    padding-top: 10px;
}
h2 {
    margin-bottom:0;
    margin-top: 0;
}
</style>
</head>

<body >
<div ng-app="mapsApp" ng-controller="MapCtrl">
    <div id="map"></div>
    <div id="class" ng-repeat="marker in markers | orderBy : 'title'">
         <a href="#" ng-click="openInfoWindow($event, marker)">{{marker.title}}</a>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
<script type="text/javascript">
    //Data
var cities = [
    {
        city : 'Alpha Specialist Centre',
        desc : '+60 3-6141 8533, alphaspecialist.com',
        lat : 3.153044,
        long : 101.595524
    },
    {
        city : 'Hospital Pakar Damansara',
        desc : '+60 3-7718 1000, kpjdamansara.com',
        lat : 3.137634,
        long : 101.627186
    },
    {
        city : 'Assunta Hospital',
        desc : '+60 3-7872 3000, assunta.com.my',
        lat : 3.093659,
        long : 101.644690
    },
    {
        city : 'Pusat Perubatan Kelana Jaya',
        desc : '+60 3-7805 2111',
        lat : 3.108284,
        long : 101.595411
    },
     {
        city : 'Tropicana Medical Centre',
        desc : '+603 6287 1999, tropicanamedicalcentre.com',
        lat : 3.148998,
        long : 101.579116
    }
];

//Angular App Module and Controller
angular.module('mapsApp', [])
.controller('MapCtrl', function ($scope) {
    var mapOptions = {
        zoom: 13,
        center: new google.maps.LatLng(3.098179, 101.644220),
        mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    $scope.map = new google.maps.Map(document.getElementById('map'), mapOptions);
    $scope.markers = [];
    var infoWindow = new google.maps.InfoWindow();
    var createMarker = function (info){
        var marker = new google.maps.Marker({
            map: $scope.map,
            position: new google.maps.LatLng(info.lat, info.long),
            title: info.city
        });
        marker.content = '<div class="infoWindowContent">' + info.desc + '</div>';
        google.maps.event.addListener(marker, 'click', function(){
            infoWindow.setContent('<h2>' + marker.title + '</h2>' + marker.content);
            infoWindow.open($scope.map, marker);
        });
        $scope.markers.push(marker);
    }  
    for (i = 0; i < cities.length; i++){
        createMarker(cities[i]);
    }
    $scope.openInfoWindow = function(e, selectedMarker){
        e.preventDefault();
        google.maps.event.trigger(selectedMarker, 'click');
    }
});
</script>
</body>
</html>
